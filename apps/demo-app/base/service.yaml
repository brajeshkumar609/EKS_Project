apiVersion: v1
kind: Service
metadata:
  name: demo-app
  namespace: demo
  annotations:
    # Optional: prefer NLB (Layer 4). Comment this if youâ€™re fine with Classic LB.
    service.beta.kubernetes.io/aws-load-balancer-type: "nlb"

    # Optional: make it internal (VPC-only) instead of internet-facing
    # service.beta.kubernetes.io/aws-load-balancer-internal: "true"

    # Optional: restrict who can connect (source IPs/CIDRs), only for Classic LB
    # service.beta.kubernetes.io/aws-load-balancer-extra-security-groups: "<sg-xxxx>"
spec:
  selector:
    app: demo-app
  type: LoadBalancer          # <-- key change
  ports:
    - port: 80
      targetPort: 80
